# 09 性能与容量规划（基准方法、回归阈值、热区表）
> 将 01 章门槛落到 **基准脚本** 与 **回归检测** 中，纳入 CI。

## 9.1 事件循环延迟（Event Loop Lag）
- 使用 `perf_hooks.monitorEventLoopDelay()` 采样，计算 TP95/TP99。

## 9.2 IPC 往返
- Electron 主↔渲染 1000 次往返，统计分位数。

## 9.3 存档读写基线
- 10MB 存档：写入 <100ms，读取 <100ms（开发机基线）。

## 9.4 验收
- `tests/perf/event-loop-latency.spec.ts`
- `tests/perf/ipc-latency.spec.ts`

# Release Health Gate 配置模板
# 基于 03-observability-sentry-logging-v2.md § 3.6
# 复制为 .env 并填写实际值

# ============================================================================
# Sentry 配置 (必填)
# ============================================================================

# Sentry 组织标识符
SENTRY_ORG="${SENTRY_ORG}"

# Sentry 项目标识符  
SENTRY_PROJECT="${SENTRY_PROJECT}"

# Sentry 认证令牌 (从 Sentry Settings > Auth Tokens 获取)
# 权限需求: org:read, project:read, project:releases
SENTRY_AUTH_TOKEN="your-sentry-auth-token-here"

# ============================================================================
# 环境配置
# ============================================================================

# 部署环境 (production, staging, development)
ENVIRONMENT="production"

# 观察窗口配置
OBSERVATION_WINDOW="24h"
OBSERVATION_WINDOW_HOURS="24"

# ============================================================================
# Release Health 阈值配置
# ============================================================================

# 崩溃自由用户率阈值 (%)
# 生产环境推荐: 99.5, 预发布: 99.0, 开发: 95.0
CRASH_FREE_USERS_THRESHOLD="99.5"

# 崩溃自由会话率阈值 (%)  
# 生产环境推荐: 99.8, 预发布: 99.5, 开发: 97.0
CRASH_FREE_SESSIONS_THRESHOLD="99.8"

# ============================================================================
# CI/CD 集成配置
# ============================================================================

# 是否在检查失败时返回错误退出码
FAIL_ON_ERROR="true"

# 是否生成 Markdown 格式报告
GENERATE_MARKDOWN_REPORT="true"

# 启用调试输出
DEBUG="false"

# ============================================================================
# 环境特定配置示例
# ============================================================================

# 生产环境配置示例:
# ENVIRONMENT="production"
# CRASH_FREE_USERS_THRESHOLD="99.5"
# CRASH_FREE_SESSIONS_THRESHOLD="99.8"
# OBSERVATION_WINDOW_HOURS="24"
# FAIL_ON_ERROR="true"

# 预发布环境配置示例:
# ENVIRONMENT="staging" 
# CRASH_FREE_USERS_THRESHOLD="99.0"
# CRASH_FREE_SESSIONS_THRESHOLD="99.5"
# OBSERVATION_WINDOW_HOURS="24"
# FAIL_ON_ERROR="true"

# 开发环境配置示例:
# ENVIRONMENT="development"
# CRASH_FREE_USERS_THRESHOLD="95.0"
# CRASH_FREE_SESSIONS_THRESHOLD="97.0" 
# OBSERVATION_WINDOW_HOURS="12"
# FAIL_ON_ERROR="false"

# ============================================================================
# GitHub Actions 特定配置 
# ============================================================================

# 当在 GitHub Actions 中运行时，以下变量会自动设置:
# GITHUB_OUTPUT - GitHub Actions 输出文件路径
# GITHUB_ENV - GitHub Actions 环境变量文件路径

# GitHub Actions 示例工作流变量:
# secrets.SENTRY_ORG
# secrets.SENTRY_PROJECT  
# secrets.SENTRY_AUTH_TOKEN
# Pull Request 模板

## 📋 变更说明

<!-- 简要说明本次PR的目的和变更内容 -->

## 📖 ADR引用 (必填)

<!-- 🚨 每个PR必须引用至少1条Accepted状态的ADR -->
<!-- 格式：ADR-XXXX: 简要说明关联性 -->

**引用的ADR：**

- [ ] ADR-0001: (技术栈选型) - 描述关联性
- [ ] ADR-0002: (Electron安全基线) - 描述关联性
- [ ] ADR-0003: (可观测性和发布健康) - 描述关联性
- [ ] ADR-0004: (事件总线和契约) - 描述关联性
- [ ] ADR-0005: (质量门禁) - 描述关联性
- [ ] ADR-0006: (数据存储) - 描述关联性
- [ ] ADR-0007: (端口适配器) - 描述关联性
- [ ] ADR-0008: (部署发布) - 描述关联性
- [ ] ADR-0009: (跨平台) - 描述关联性
- [ ] ADR-0010: (国际化) - 描述关联性
- [ ] 其他相关ADR: ADR-XXXX - 描述关联性

**ADR变更说明：**

- [ ] 本PR未改变现有ADR中的口径/阈值/契约
- [ ] 本PR新增ADR: ADR-XXXX (链接到新ADR文件)
- [ ] 本PR替代现有ADR: 以ADR-XXXX替代ADR-YYYY

## 🏗️ 技术实现

### 核心变更文件

<!-- 列出主要修改的文件和变更原因 -->

### 接口/类型/事件变更

- [ ] 更新/新增 `src/shared/contracts/**` 的接口/类型/事件
- [ ] 事件命名遵循 `${DOMAIN_PREFIX}.<entity>.<action>` 格式
- [ ] TypeScript类型定义完整，无any类型（除非有TODO注释）

## 🧪 测试覆盖

### 单元测试

- [ ] 更新/新增 `tests/unit/**` (Vitest)
- [ ] 测试覆盖率满足质量门禁要求

### E2E测试

- [ ] 更新/新增 `tests/e2e/**` (Playwright Electron)
- [ ] 关键路径有端到端验证

### PRD测试引用

- [ ] 涉及PRD变更：Front-Matter的 `Test-Refs` 已更新
- [ ] 测试用例与功能需求对应

## 🔒 安全检查

- [ ] 遵循Electron安全基线 (ADR-0002)
- [ ] 未引入安全漏洞（npm audit通过）
- [ ] CSP策略未被削弱
- [ ] 敏感信息未泄露到日志或代码

## 📊 质量门禁

### 代码质量

- [ ] ESLint检查通过 (包括React 19 Actions规则)
- [ ] TypeScript编译无错误
- [ ] Prettier格式化完成

### 性能影响

- [ ] User Timing性能测点通过P95阈值
- [ ] Bundle大小未显著增加
- [ ] Web Vitals指标无回归

### 架构合规

- [ ] 模块边界清晰，职责单一
- [ ] 依赖方向正确，无循环依赖
- [ ] 接口设计遵循现有模式

## 🎯 验收标准

<!-- 从对应的ADR/Chapter/Overlay复制验收标准 -->

- [ ] 功能按预期工作
- [ ] 错误处理完整
- [ ] 用户体验良好
- [ ] 性能满足要求

## 💡 其他说明

<!-- 任何需要额外说明的技术细节、设计决策或注意事项 -->

---

## ⚠️ PR合并前检查清单

**必须项 (CI会自动检查):**

- [ ] 所有CI检查通过
- [ ] 至少引用1条Accepted ADR
- [ ] 代码审查已完成
- [ ] 测试覆盖完整

**建议项:**

- [ ] 文档已更新
- [ ] 性能影响已评估
- [ ] 向后兼容性已确认
